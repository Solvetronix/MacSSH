# üöÄ –ö–æ–Ω—Ñ–ª–∏–∫—Ç-–°–≤–æ–±–æ–¥–Ω—ã–π –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π

## ‚ùó –ü—Ä–æ–±–ª–µ–º–∞ –∫–æ—Ç–æ—Ä—É—é –º—ã —Ä–µ—à–∏–ª–∏

**–°—Ç–∞—Ä–∞—è –ø—Ä–æ–±–ª–µ–º–∞**: –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –¥–µ–ª–∞–ª –∫–æ–º–º–∏—Ç—ã –≤ `main` –≤–µ—Ç–∫—É, —á—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

**–ù–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ**: –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–ª–∏–∑—ã, –∞ –≤–µ—Ä—Å–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.

## üîÑ –ù–æ–≤—ã–π –†–∞–±–æ—á–∏–π –ü—Ä–æ—Ü–µ—Å—Å

### 1. –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π (GitHub Actions)
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç GitHub Release —Å DMG
- ‚úÖ –ù–ï –¥–µ–ª–∞–µ—Ç –∫–æ–º–º–∏—Ç—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- ‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 2. –õ–æ–∫–∞–ª—å–Ω–æ–µ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è)
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è:

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç
./update_version_locally.sh 1.8.13 193 MacSSH-1.8.13.dmg

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
# 1. –û–±–Ω–æ–≤–∏—Ç—å project.pbxproj
sed -i '' 's/MARKETING_VERSION = 1.8.12/MARKETING_VERSION = 1.8.13/g' MacSSH.xcodeproj/project.pbxproj
sed -i '' 's/CURRENT_PROJECT_VERSION = 192/CURRENT_PROJECT_VERSION = 193/g' MacSSH.xcodeproj/project.pbxproj

# 2. –û–±–Ω–æ–≤–∏—Ç—å appcast.xml
./update_appcast.sh 1.8.13 193 MacSSH-1.8.13.dmg

# 3. –ö–æ–º–º–∏—Ç –∏ push
git add MacSSH.xcodeproj/project.pbxproj MacSSH/Info.plist appcast.xml
git commit -m "Update version to 1.8.13 after automatic release"
git push origin main
```

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ù–æ–≤–æ–≥–æ –ü–æ–¥—Ö–æ–¥–∞

### ‚úÖ –ù–µ—Ç –ö–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
- –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –ù–ï —Å–æ–∑–¥–∞–µ—Ç –∫–æ–º–º–∏—Ç—ã
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º–∏
- –ü—Ä–æ—Å—Ç–æ–π `git push` –±–µ–∑ merge –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å
- –í—ã –≤–∏–¥–∏—Ç–µ –∫–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- –ú–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ appcast.xml

### ‚úÖ –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π –Ω–µ –º–æ–∂–µ—Ç "—Å–ª–æ–º–∞—Ç—å" —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
- –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫, –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ—Ç—Ä–æ–Ω—É—Ç—ã–º–∏

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –ö–æ–≥–¥–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π:

1. **GitHub Actions** —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–ª–∏–∑ –∏ DMG
2. –í –ª–æ–≥–∞—Ö GitHub Actions –≤—ã —É–≤–∏–¥–∏—Ç–µ:
   ```
   ‚úÖ Release 1.8.13 created successfully!
   üìù Manual steps to complete:
   1. Update version in project.pbxproj to 1.8.13
   2. Update appcast.xml locally  
   3. Commit and push changes
   ```

3. **–õ–æ–∫–∞–ª—å–Ω–æ** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   # –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ–ª–∏–∑–∞—Ö
   git fetch --tags
   
   # –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)
   ./update_version_locally.sh 1.8.13 193 MacSSH-1.8.13.dmg
   
   # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   git diff
   
   # –ö–æ–º–º–∏—Ç –∏ push
   git add MacSSH.xcodeproj/project.pbxproj MacSSH/Info.plist appcast.xml
   git commit -m "Update version to 1.8.13 after automatic release"
   git push origin main
   ```

## üîß –§–∞–π–ª—ã –≤ –ù–æ–≤–æ–π –°–∏—Å—Ç–µ–º–µ

### `update_version_locally.sh`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤—Å–µ —Ñ–∞–π–ª—ã –≤–µ—Ä—Å–∏–π
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞

### `.github/workflows/auto-deploy.yml` (–∏–∑–º–µ–Ω–µ–Ω)
- ‚ùå –£–±—Ä–∞–Ω–∞ —Å–µ–∫—Ü–∏—è "Commit and push changes"
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è "Show manual steps info"
- ‚úÖ –í–µ—Ä—Å–∏–∏ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–±–æ—Ä–∫–∏, –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ó–∞–º–µ—á–∞–Ω–∏—è

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –í–µ—Ä—Å–∏–π
- –í—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –≤–µ—Ä—Å–∏–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ–¥–µ–ø–ª–æ—è
- –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è - —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ

### –ü–æ—Ä—è–¥–æ–∫ –î–µ–π—Å—Ç–≤–∏–π
1. –ê–≤—Ç–æ–¥–µ–ø–ª–æ–π —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–ª–∏–∑
2. –í—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ –≤–µ—Ä—Å–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ
3. –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –¥–µ–ª–∞–µ—Ç–µ –Ω–æ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –í–µ—Ä—Å–∏–π
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –≤ –ø—Ä–æ–µ–∫—Ç–µ
grep 'MARKETING_VERSION = ' MacSSH.xcodeproj/project.pbxproj | head -1

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑ –Ω–∞ GitHub
git tag --sort=-version:refname | head -1
```

## üö® –ï—Å–ª–∏ –ß—Ç–æ-—Ç–æ –ü–æ—à–ª–æ –ù–µ –¢–∞–∫

### –ï—Å–ª–∏ –∑–∞–±—ã–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏–∏:
```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–µ–ª–∏–∑
git tag --sort=-version:refname | head -1

# –û–±–Ω–æ–≤–∏—Ç–µ –¥–æ —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏
./update_version_locally.sh <version> <build> <dmg_name>
```

### –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã:
```bash
# –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git fetch origin main

# –ï—Å–ª–∏ –µ—Å—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –∏—Ö
git pull origin main --no-rebase

# –ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏–∏
./update_version_locally.sh <version> <build> <dmg_name>
```

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –ø—Ä–∏ push!** üéâ

–¢–µ–ø–µ—Ä—å –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π –∏ –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ, –Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ.
